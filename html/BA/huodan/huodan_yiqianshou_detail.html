<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
		<meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
		<title>已签收详情</title>
		<link rel="stylesheet" type="text/css" href="../../../css/api.css"/>
		<style>
			body, html{ background-color: #f5f5f5;}
			.start{ width: 100%; height: auto; float: left; margin-top: 5px; margin-bottom: 103px;}
			.start ul{ width: 100%; height: auto; float: left; margin-bottom: 10px; overflow: auto;}
			.start ul li{ width: 100%; height: auto; float: left; border-bottom: 1px solid #f5f5f5;}
			.start ul li .name{ width: 58%; min-height: 40px; padding-top: 10px; text-align: center; line-height: 20px; margin-left: 2%; float: left;}
			.start ul li .num{ width: 20%; height: 40px; line-height: 40px; text-align: center; float: left;}
			.start ul li .qiannum{ width: 20%; height: 40px; line-height: 40px; text-align: center; float: left;}
			.start ul li input{ background-color: #EEEEEE; outline: none; width: 19.5%; height: 30px; line-height: 30px; margin-top: 5px; text-align: center; float: left;}
			.queren{ position: fixed; left: 0; bottom: 0; width: 80%; margin-left: 10%; margin-bottom: 5px; height: 40px; border-radius: 3px; line-height: 40px; text-align: center; font-size: 15px; background-color: #71C4E4; color: #FFFFFF;}
			.start .dingdanhao{display: none; border-bottom: 1px solid #f5f5f5; width: 100%; height: auto; float: left;}
			.start .dingdanhao .danhao{ width: 30%; height: 40px; float: left; line-height: 40px; text-align: center;}
			.start .dingdanhao .inputdanhao{ width: 50%; height: 30px; line-height: 30px; margin-top: 5px; float: left; outline: none; font-size: 15px;}
			.start .dingdanhao .saodanhao{ width: 25px; height: 25px; float: right; padding: 7.5px;}
			.GetListPic{ width: 94%; margin-left: 3%; height: auto; position: fixed; bottom: 0; left: 0; margin-bottom: 55px; background-color: #f5f5f5; border: 1px solid #f5f5f5;}
			.GetListPic .title{ width: 94%; height: 40px; line-height: 40px; float: left; padding: 0 3%; font-size: 14px;}
			.GetListPic .piclist{ width: 94%; height: auto; float: left;  padding: 5px 3%; background-color: #FFFFFF;}
			.GetListPic .piclist img{ width: 50px; height: 50px; float: left; margin-right: 5px;}
			.goodlist{ width: 100%; height: auto; float: left; background-color: #71C4E4; margin-top: 10px;}
			.goodlist .title{ width: auto; margin-left: 10px; height: 45px; line-height: 45px; float: left; color: #FFFFFF; font-size: 16px;}
			.goodlist .addgood{ width: 20px; height: 20px; padding: 12.5px 10px; float: right;}
			.gooddetail{ width: 100%; height: auto; float: left; margin-bottom: 50px;}
			.gooddetail ul{ width: 100%; height: auto; float: left;}
			.gooddetail ul li{ position: relative; padding-top: 5px; padding-bottom: 5px; border-radius: 5px; background-color: #FFFFFF; width: 96%; margin-left: 2%; margin-right: 2%; height: auto; float: left; margin-top: 5px;}
			.gooddetail ul li .downimg{ margin-right: 5px; margin-top: 5px; width: 30px; height: 30px; position: absolute; top: 0; right: 0;}
			.gooddetail ul li .item1{ width: 90%; font-size: 14px; margin-left: 5%; margin-right: 5%; height: auto; float: left; line-height: 25px; }
			.gooddetail ul li .item1 i{ font-style: normal; float: left;}
			.gooddetail ul li .item1 .num16{ font-size: 18px;}
			.gooddetail ul li .item1 .width80{ width: 80px;}
			.gooddetail ul li .item2{ width: 90%; height: auto; float: left; margin-left: 5%; margin-right: 5%;}
			.gooddetail ul li .item2 .leftitem{ width: 80px; height: 25px; float: left; line-height: 25px;}
			.gooddetail ul li .item2 .numinput{ width: 100px; height: 25px; float: left; border-bottom: 1px solid #CCCCCC;}
			.gooddetail ul li .item2 .numinput input{ width: 100px; height: 20px; line-height: 20px; float: left; margin-top: 2.5px; outline: none; text-align: center;}
			.gooddetail ul li .imagelist{ margin-top: 5px; width: 100%; height: auto; float: left;}
			.gooddetail ul li .imagelist .titlepic{ background-color: #f2f2f2; color: #71C4E4; width: 90%; padding-left: 5%; padding-right: 5%; height: 40px; float: left; line-height: 40px;}
			.gooddetail ul li .imagelist img{ width: 50px; height: 50px; float: left; margin: 5px;}
		</style>
	</head>
	<body>
		<div class="gooddetail">
			<ul id="goodlist">
				<!--<li>
					<span class="item1"><i class="width80">商品名称: </i><i>机房里的撒酒疯离开大树</i></span>
					<span class="item1"><i class="width80">商品编码: </i><i>商品编辑啊房间打扫垃圾分类</i></span>
					<span class="item1"><i class="width80">发货数量: </i><i class="num16">88</i></span>
					<div class="item2">
						<span class="leftitem">签收数量:</span>
						<div class="numinput">
							<input readonly="readonly" />
						</div>
					</div>
				</li>-->
			</ul>
		</div>
	</body>
	<script type="text/javascript" src="../../../script/api.js"></script>
	<script type="text/javascript" src="../../../script/apiclear.js"></script>
	<script type="text/javascript" src="../../../script/base64Update.js"></script>
	<script type="text/javascript" src="../../../script/synthesis.js"></script>
	<script type="text/javascript" src="../../../script/db.js"></script>
	<script type="text/javascript" src="../../../script/kunchiba.js"></script>
	<script type="text/javascript" src="../../../script/log.js"></script>
	<script type="text/javascript" src="../../../script/kunchisale.js"></script>
	<script type="text/javascript">
		var detail_ret;
	
		var datalistitem;
		
		//签收的时候的图片类型 也就是单据类型
		var PICdataTypeName = '签收图片';
		
		apiready = function() {
			datalistitem = api.pageParam.page.datalistitem;
			PICdataTypeName = api.pageParam.page.datetypename;
			//console.log(JSON.stringify(datalistitem));
			getorderdetail();
		};
		
		function getorderdetail(){
			jiazai();
			var body = new Object();
			body.orderid = api.pageParam.page.orderid;
			$kunchi.kunchipost("ActionApi/T_Orders/GetSingeT_OrderDetailList", body, function(ret,err){
				//console.log(JSON.stringify(ret) + "---" + JSON.stringify(err));
				tingzhi();
				if(ret){
					detail_ret = ret;
					dealxml(ret);
				}else{
					api.confirm({
					    title: '提示',
					    msg: '当前网络错误,您可以重新尝试或者等网络通常后再试.',
					    buttons: ['重试', '稍后再说']
					}, function(ret, err) {
					    var index = ret.buttonIndex;
					    if(index == 1){
					    	getorderdetail();
					    }else if(index == 2){
					    	api.closeWin({
                            });
					    }
					});
				}
			});
		}
		
		function dealxml(ret){
			document.getElementById("goodlist").innerHTML = '';
			var el = document.getElementById("goodlist");
			for(var a = 0; a < ret.length; a++){
				var html = '<li id="'+ret[a].id+'">'
						+		'<span class="item1"><i class="width80">商品名称: </i><i>'+ret[a].cProductFullName+'</i></span>'
						+		'<span class="item1"><i class="width80">商品编码: </i><i>'+ret[a].cProductProductCode+'</i></span>'
						+		'<span class="item1"><i class="width80">发货数量: </i><i class="num16">'+ret[a].iSendCount+'</i></span>'
						+		'<div class="item2">'
						+			'<span class="leftitem">签收数量:</span>'
						+			'<div class="numinput">'
						+				'<input type="tel" readonly="readonly" value="'+ret[a].iSignCount+'" />'
						+			'</div>'
						+		'</div>'
						+	'</li>';
						
				$api.append(el, html);
			}
		}
		
	</script>
</html>